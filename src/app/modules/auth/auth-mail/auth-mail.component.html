<section class="email">
  <form [formGroup]="mailForm" (ngSubmit)="onSubmit()">
    <h3>이메일 주소 입력</h3>
    <p class="explain">이메일 인증 후 서비스를 이용하실 수 있습니다.</p>
    <p class="explain">인증을 위해 메일 주소를 입력해주세요.<br> 입력하신 메일 주소로 인증 메일을 발송합니다.</p>

    <div class="table margin3">
      <div class="td">
        <input type="text" formControlName="account" placeholder="이메일 계정" class="input">
      </div>
      <div class="td at">
        @
      </div>
      <div class="td">
        <select formControlName="corp" class="select">
          <option value="">도메인 선택</option>
          <option *ngFor="let corp of corps$ | async" [ngValue]="corp">{{ corp.domain }}</option>
        </select>
      </div>
    </div>

    <div *ngIf="account.invalid && (account.dirty || account.touched)" class="explain">
      <span *ngIf="account.errors['required']">이메일 계정을 입력하세요.</span>
      <span *ngIf="account.errors['minlength']">2자 이상 입력하세요.</span>
    </div>
    <div *ngIf="corp.invalid && (corp.dirty || corp.touched)" class="">
      <small *ngIf="corp.errors['required']">도메인을 선택하세요.</small>
    </div>

    <button
      [disabled]="mailForm.invalid"
      class="button margin2 verification">메일 인증하기</button>
  </form>
</section>
